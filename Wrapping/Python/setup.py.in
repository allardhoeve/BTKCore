# coding=utf-8
from setuptools import setup, Extension
import glob
import os.path

version = '@BTK_VERSION_STRING@'

WRAPPER_SOURCES = '/Users/allardhoeve/devel/BTKCore/Wrapping/Python'

def find_wrapping_sources():
    return glob.glob(os.path.join(WRAPPER_SOURCES, '*.cpp'))

_btk = Extension('_btk',
                include_dirs=[
                    '.',
                    '..',
                    '@CMAKE_CURRENT_SOURCE_DIR@',
                    '@NUMPY_INCLUDE_DIR@',
                    '@BTK_SOURCE_DIR@/Code/BasicFilters',
                    '@BTK_SOURCE_DIR@/Code/Common',
                    '@BTK_SOURCE_DIR@/Code/IO',
                    '@BTK_SOURCE_DIR@/Utilities/boost',
                    '@BTK_SOURCE_DIR@/Utilities/eigen3',
                    '@BTK_SOURCE_DIR@/Utilities/SWIG'
                ],
                sources=find_wrapping_sources() + ['btkSwigPYTHON_wrap.cxx'],
                extra_objects=['libBTKBasicFilters.a', 'libBTKIO.a', 'libBTKCommon.a'])


setup(name='btk',
      version=version,
      description='BTK Python bindings',
      long_description='''@BTK_PYTHON_PACKAGE_LONG_DESCRIPTION@''',
      author='Arnaud Barr√©',
      author_email='arnaud.barre@gmail.com',
      url='https://code.google.com/p/b-tk/',
      license='New BSD License',
      packages=['btk'],
      setup_requires=['wheel'],
      ext_modules=[_btk])
